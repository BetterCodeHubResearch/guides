<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Frequently Asked Questions - RubyGems Guides</title>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta http-equiv="Description" name="Description" content="Tutorials, guides, FAQs for RubyGems package management" />
    <meta http-equiv="Keywords" name="Keywords" content="rubygems, gems, programming, ruby, packages" />
    <script src="//use.typekit.net/lkc4mmu.js" type="text/javascript"></script>
    <script>
      try{Typekit.load();}catch(e){}
    </script>
    <script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
    <script>
      $(function() {
        var path = window.location.pathname;
        $('a[href="'+path.substring(0, path.length -1)+'"]').addClass('is-active');
      });
    </script>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" name="viewport">
    <link href="/stylesheets/application.css" rel="stylesheet" type="text/css" />
    <!--[if !IE]>-->
      <meta name="viewport" content="width=device-width">
      <script type="text/javascript">
        window.scrollTo(0, 1);
      </script>
    <!--<![endif]-->
  </head>

  <body class="default">
    <header class="header header--interior">
      <div class="l-wrap--header">
        <a class="header__logo-wrap" href="/">
          <span class="header__logo" data-icon="⬡">⬢</span>
          <span class="t-hidden">RubyGems</span>
        </a>
        <a class="header__club-sandwich" href="#">
          <span class="t-hidden">Navigation menu</span>
        </a>

        <div class="header__nav-links-wrap">
          <form class="header__search-wrap">
            <input class="header__search" id="header__search" name="header__search" placeholder="Search Gems..." type="search">
            <label class="header__search__icon" data-icon="⌕" for="header__search">
              <span class="t-hidden">Search gems</span>
            </label>
          </form>

          <nav class="header__nav-links">
            <a class="header__nav-link" href="/gems">Gems</a>
            <a class="header__nav-link" href="/guides">Guides</a>
            <a class="header__nav-link" href="/contribute">Contribute</a>
            <a class="header__nav-link" href="#" id="js-sign-in-trigger">Sign In</a>
            <a class="header__nav-link js-sign-up-trigger" href="#">Sign Up</a>
          </nav>
        </div>
      </div>
    </header>

    <main class="main--interior">
      <div class="l-wrap--b">
        <a class="t-display page__heading" href="/">Guides</a>
        <div class="l-overflow">
          <div class="l-col--l">
            <div class="nav--v">
              <a class="nav--v__link" href="/rubygems-basics">RubyGems Basics</a>
              <a class="nav--v__link" href="/what-is-a-gem">What is a gem?</a>
              <a class="nav--v__link" href="/make-your-own-gem">Make your own gem</a>
              <a class="nav--v__link" href="/gems-with-extensions">Gems with Extensions</a>
              <a class="nav--v__link" href="/name-your-gem">Name your gem</a>
              <a class="nav--v__link" href="/publishing">Publishing your gem</a>
              <a class="nav--v__link" href="/security">Security Practices</a>
              <a class="nav--v__link" href="/patterns">Patterns</a>
              <a class="nav--v__link" href="/specification-reference">Specification Reference</a>
              <a class="nav--v__link" href="/command-reference">Command Reference</a>
              <a class="nav--v__link" href="http://docs.seattlerb.org/rubygems">RubyGems API</a>
              <a class="nav--v__link" href="/rubygems-org-api">RubyGems.org API</a>
              <a class="nav--v__link" href="/run-your-own-gem-server">Run your own gem server</a>
              <a class="nav--v__link" href="/resources">Resources</a>
              <a class="nav--v__link" href="/contributing">Contributing to RubyGems</a>
              <a class="nav--v__link" href="/faqs">Frequently Asked Questions</a>
              <a class="nav--v__link" href="/plugins">Plugins</a>
              <a class="nav--v__link" href="/credits">Credits</a>
            </div>
          </div>
          <div class="l-colspan--r">
            <div class="t-body">
              <p><em class="t-gray">More of the “why” and “wtf” than “how”.</em></p>

<p>The RubyGems development team has gotten a lot of support requests over the
years, and this is a list of the questions users both new and old that
frequently pop up.</p>

<ul>
  <li><a href="#user-install">I installed gems with <code>--user-install</code> and their commands are not available</a></li>
  <li><a href="#security">How can I trust Gem code that’s automatically downloaded?</a></li>
  <li><a href="#require-fail">Why does <code>require 'some-gem'</code> fail?</a></li>
  <li><a href="#require-false">Why does require return false when loading a file from a gem?</a></li>
</ul>

<p>We also answer questions on the <a href="http://help.rubygems.org/">RubyGems Support</a> site and on IRC
in #rubygems. Some of the information you can find on the support site includes:</p>

<ul>
  <li><a href="http://help.rubygems.org/kb/rubygems/installing-gems-with-no-network">Installing gems with no network</a></li>
  <li><a href="http://help.rubygems.org/kb/rubygems/why-do-i-get-http-response-302-or-301-when-installing-a-gem">Why do I get HTTP Response 302 or 301 when installing a gem?</a></li>
  <li><a href="http://help.rubygems.org/kb/rubygems/rubygems-upgrade-issues">RubyGems Upgrade Issues</a></li>
</ul>

<p><a id="user-install"></a></p>

<h2 id="i-installed-gems-with---user-install-and-their-commands-are-not-available">I installed gems with <code>--user-install</code> and their commands are not available</h2>

<p>When you use the <code>--user-install</code> option, RubyGems will install the gems to a
directory inside your home directory, something like <code>~/.gem/ruby/1.9.1</code>. The
commands provided by the gems you installed will end up in
<code>~/.gem/ruby/1.9.1/bin</code>. For the programs installed there to be available for
you, you need to add <code>~/.gem/ruby/1.9.1/bin</code> to your <code>PATH</code> environment
variable.</p>

<p>For example, if you use bash you can add that directory to your <code>PATH</code> by
adding code like this to your <code>~/.bashrc</code> file:</p>

<pre><code>if which ruby &gt;/dev/null &amp;&amp; which gem &gt;/dev/null; then
    PATH="$(ruby -rubygems -e 'puts Gem.user_dir')/bin:$PATH"
fi
</code></pre>

<p>After adding this code to your <code>~/.bashrc</code>, you need to restart your shell for
the changes to take effect. You can do this by opening a new terminal window or
by running <code>exec $SHELL</code> in the window you already have open.</p>

<p><a id="security"></a></p>

<h2 id="how-can-i-trust-gem-code-thats-automatically-downloaded">How can I trust Gem code that’s automatically downloaded?</h2>

<p>The same way you can trust any other code you install from the net: ultimately,
you can’t. You are responsible for knowing the source of the gems that you are
using. In a setting where security is critical, you should only use known-good
gems, and possibly perform your own security audit on the gem code.</p>

<p>The Ruby community is discussing ways to make gem code more secure in the future,
using some public-key infrastructure. To see the progress of this discussion, visit the
<a href="https://github.com/rubygems-trust">rubygems-trust</a> organization on GitHub.</p>

<p><a id="require-fail"></a></p>

<h2 id="why-does-require-some-gem-fail">Why does <code>require 'some-gem'</code> fail?</h2>

<p>Not every library has a strict mapping between the name of the gem and the name of
the file you need to require. First you should check to see if the files match correctly:</p>

<pre><code>$ gem list RedCloth

*** LOCAL GEMS ***

RedCloth (4.1.1)
$ ruby -rubygems -e 'require "RedCloth"'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require': no such file to load -- RedCloth (LoadError)
  from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
  from -e:1
$ gem contents --no-prefix RedCloth | grep lib
lib/case_sensitive_require/RedCloth.rb
lib/redcloth/erb_extension.rb
lib/redcloth/formatters/base.rb
lib/redcloth/formatters/html.rb
lib/redcloth/formatters/latex.rb
lib/redcloth/formatters/latex_entities.yml
lib/redcloth/textile_doc.rb
lib/redcloth/version.rb
lib/redcloth.rb
$ ruby -rubygems -e 'require "redcloth"'
$ # success!
</code></pre>

<p>If you’re requiring the correct file, maybe <code>gem</code> is using a different ruby than <code>ruby</code>:</p>

<pre><code>$ which ruby
/usr/local/bin/ruby
$ gem env | grep 'RUBY EXECUTABLE'
   - RUBY EXECUTABLE: /usr/local/bin/ruby1.9
</code></pre>

<p>In this instance we’ve got two ruby installations so that <code>gem</code> uses a different version than <code>ruby</code>. You can probably fix this by adjusting a symlink:</p>

<pre><code>$ ls -l /usr/local/bin/ruby*
lrwxr-xr-x  1 root  wheel       76 Jan 20  2010 /usr/local/bin/ruby@ -&gt; /usr/local/bin/ruby1.8
-rwxr-xr-x  1 root  wheel  1213160 Jul 15 16:36 /usr/local/bin/ruby1.8*
-rwxr-xr-x  1 root  wheel  2698624 Jul  6 19:30 /usr/local/bin/ruby1.9*
$ ls -l /usr/local/bin/gem*
lrwxr-xr-x  1 root  wheel   76 Jan 20  2010 /usr/local/bin/gem@ -&gt; /usr/local/bin/gem1.9
-rwxr-xr-x  1 root  wheel  550 Jul 15 16:36 /usr/local/bin/gem1.8*
-rwxr-xr-x  1 root  wheel  550 Jul  6 19:30 /usr/local/bin/gem1.9*
</code></pre>

<p>You may also need to give <code>irb</code> the same treatment.</p>

<p><a id="require-false"></a></p>

<h2 id="why-does-require-return-false-when-loading-a-file-from-a-gem">Why does require return false when loading a file from a gem?</h2>

<p>Require returns false when loading a file from a gem. Usually require will return
true when it has loaded correctly. What’s wrong?</p>

<p>Nothing’s wrong. Well, something. But nothing you need to worry about.</p>

<p>A false return from the require method does not indicate an error. It just
means that the file has already been loaded.</p>

<p>RubyGems has a feature that allows a file to be automatically loaded
when a gem is activated (i.e. selected). When you require a file that is
in an inactive gem, the RubyGems software will activate that gem for you.
During that activation, any autoloaded files will be loaded for you.</p>

<p>So, by the time your require statement actually does the work of loading
the file, it has already been autoloaded via the gem activation, and
therefore the statement returns false.</p>


            </div>
          </div>
        </div>

        <div class="paginated-nav-links">
          <a class="paginated-nav-link--prev" data-icon="&lt;" href="/contributing">
            <span>Previous</span>
          </a>
          <a class="paginated-nav-link--next" data-icon="&gt;" href="/plugins">
            <span>Next</span>
          </a>
        </div>
      </div>
    </main>

    <div class="modal-wrap" id="js-sign-in-modal">
      <form class="modal--sign-in">
        <a class="modal__close" data-icon="x" href="#" id="js-sign-in-close">
          <span class="t-hidden">Close modal</span>
        </a>
        <div class="modal__input-wrap">
          <label class="modal__label t-hidden" for="email">Email or Username</label>
          <input class="modal__input" id="email" name="email" placeholder="Email or Username" type="text">
        </div>
        <div class="modal__input-wrap">
          <label class="modal__label t-hidden" for="password">Password</label>
          <input class="modal__input" id="password" name="password" placeholder="Password" type="password">
        </div>
        <button class="modal__submit" data-icon="&gt;" type="submit">Sign in</button>
      </form>
    </div>

    <div class="modal-wrap" id="js-sign-up-modal">
      <form class="modal--sign-up">
        <a class="modal__close" data-icon="x" href="#" id="js-sign-up-close">
          <span class="t-hidden">Close modal</span>
        </a>
        <div class="modal__input-wrap">
          <label class="modal__label t-hidden" for="email">Email</label>
          <input class="modal__input" id="email" name="email" placeholder="Email" type="email">
        </div>
        <div class="modal__input-wrap">
          <label class="modal__label t-hidden" for="username">Username</label>
          <input class="modal__input" id="username" name="username" placeholder="Username" type="text">
        </div>
        <div class="modal__input-wrap">
          <label class="modal__label t-hidden" for="password">Password</label>
          <input class="modal__input" id="password" name="password" placeholder="Password" type="password">
        </div>
        <button class="modal__submit" data-icon="&gt;" type="submit">Sign up</button>
      </form>
    </div>

    <footer class="footer">
      <div class="l-wrap--footer">
        <div class="l-overflow">
          <div class="nav--v l-col--r--pad">
            <a class="nav--v__link--footer" href="/status">Status</a>
            <a class="nav--v__link--footer" href="/uptime">Uptime</a>
            <a class="nav--v__link--footer" href="https://github.com/rubygems/rubygems.org" target='_blank'>Code</a>
            <a class="nav--v__link--footer" href="https://groups.google.com/forum/#!forum/rubygems-org" target='_blank'>Discuss</a>
            <a class="nav--v__link--footer" href="/stats">Stats</a>
            <a class="nav--v__link--footer" href="/blogs">Blog</a>
            <a class="nav--v__link--footer" href="/about">About</a>
            <a class="nav--v__link--footer" href="/help">Help</a>
          </div>
          <div class="l-colspan--l colspan--l--has-border">
            <p class="footer__about">RubyGems.org is the Ruby community&rsquo;s gem hosting service. Instantly publish your gems and install them. Use the API to interact and find out more information about available gems. Become a contributor and enhance the site with your own changes.</p>
          </div>
        </div>
      </div>
      <div class="footer__sponsors-wrap">
        <div class="footer__sponsors">
          <a class="footer__sponsor" href="http://rubycentral.org/" target="_blank">
            Supported by
            <img alt="Ruby Central" class="footer__sponsor__logo" src="/images/logos/ruby-central.png">
          </a>
          <a class="footer__sponsor" href="https://www.bluebox.net/" target="_blank">
            Hosted by
            <img alt="Blue Box" class="footer__sponsor__logo" src="/images/logos/bluebox.png">
          </a>
          <a class="footer__sponsor" href="http://www.dockyard.com/" target="_blank">
            Designed by
            <img alt="DockYard" class="footer__sponsor__logo" src="/images/logos/dockyard.png">
          </a>
          <a class="footer__sponsor" href="https://dnsimple.com/" target="_blank">
            Resolved with
            <img alt="DNSimple" class="footer__sponsor__logo" src="/images/logos/dnsimple.png">
          </a>
          <a class="footer__sponsor" href="http://newrelic.com/" target="_blank">
            Optimized by
            <img alt="New Relic" class="footer__sponsor__logo" src="/images/logos/new-relic.png">
          </a>
          <a class="footer__sponsor" href="http://get.gaug.es/" target="_blank">
            Tracking by
            <img alt="Gauges" class="footer__sponsor__logo" src="/images/logos/gauges.png">
          </a>
          <a class="footer__sponsor" href="https://www.runscope.com/" target="_blank">
            Monitored by
            <img alt="Runscope" class="footer__sponsor__logo" src="/images/logos/runscope.png">
          </a>
        </div>
      </div>
    </footer>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-10315684-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
